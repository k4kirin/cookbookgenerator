(this.webpackJsonpcookbookgenerator=this.webpackJsonpcookbookgenerator||[]).push([[0],[,,,,,,,function(e,t,a){},,,function(e,t,a){var A={"./1ewtr.png":18,"./background.png":19};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(A,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return A[e]}n.keys=function(){return Object.keys(A)},n.resolve=i,e.exports=n,n.id=10},,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAEsCAYAAADtt+XCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADaWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjI5MTkwMjdhLWI1MTgtNzg0MS1iN2VmLTVkZDAxMWUyMmFhYSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCM0RGQ0Y0NDM4QkQxMUVBQjkxNkQyQjdDM0REQzgzMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCM0RGQ0Y0MzM4QkQxMUVBQjkxNkQyQjdDM0REQzgzMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjMzMDhEQTQzN0IzMTFFQThCNDVGNDRFOTQxNjYxMjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjMzMDhEQTUzN0IzMTFFQThCNDVGNDRFOTQxNjYxMjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7s3gRwAAAEOUlEQVR4Xu3VsQGAMAzAsND/fwaGPhDP0uIT/Ly/AYClcwsAKwYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAkBgJAYiAAJAYCQGIgACQGAkBiIAAEMx+EcwZUpkH1mgAAAABJRU5ErkJggg=="},function(e,t,a){e.exports=a.p+"static/media/background.898569ac.png"},function(e,t,a){"use strict";a.r(t);var A=a(0),n=a.n(A),i=a(8),r=a.n(i),s=(a(17),a(2)),l=a(3),o=a(5),g=a(4),c=a(6),h=(a(7),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{class:"author"},"Made by ",n.a.createElement("a",{href:"http://k4kirin.github.io"},"k4kirin"))}}]),t}(n.a.Component)),u=a(1),m=a(11),k=a.n(m);var I=function(e){var t={};return e.keys().map((function(a,A){t[a.replace("./","")]=e(a)})),t}(a(10));function C(e){return n.a.createElement("button",{className:"square",onClick:e.onClick,style:{backgroundColor:e.selected?"#d3d3d3":"white"}},e.name)}var d=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(g.a)(t).call(this,e))).state={squares:Array(e.names.length).fill(!0,0,1).fill(!1,1,e.names.length),names:e.names,options:e.options,onChange:e.onChange},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=this.state.squares.slice();t[e]||(t.fill(!1),t[e]=!0,this.props.onChange(this.state.options,this.state.names[e]),this.setState({squares:t}))}},{key:"renderSquare",value:function(e){var t=this;return n.a.createElement(C,{selected:this.state.squares[e],name:this.state.names[e],onClick:function(){return t.handleClick(e)}})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.names.length;t++)e.push(this.renderSquare(t));return n.a.createElement("div",null,e)}}]),t}(n.a.Component),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleTitleChange=a.handleTitleChange.bind(Object(u.a)(a)),a.handleInstructionsChange=a.handleInstructionsChange.bind(Object(u.a)(a)),a.handleImageUpload=a.handleImageUpload.bind(Object(u.a)(a)),a.handleSave=a.handleSave.bind(Object(u.a)(a)),a.displayImage=[],a.imgName={wtrName:""},a.rotatedResult=!0,a.refreshed=!1,a.uploadNumber=[],a.canvasData="",a.state={file:null,imagePreviewUrl:null,fileBehind:null,imagePreviewUrlBehind:null,rotateResult:!1,rotateUpload:!1,title:"Mamy's ",instructions:"",options:{type:"Force I",language:"English",top:"Yes",bot:"Yes",txt:"Yes"}},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"imagePusher",value:function(){var e=function(e){var t=new Image;return t.src=e,t},t=0;this.displayImage=[],this.uploadNumber=[],this.state.imagePreviewUrl&&(this.displayImage.push(e(this.state.imagePreviewUrl)),this.uploadNumber.push(t),t++),this.displayImage.push(e(I[this.imgName.wtrName]))}},{key:"stackImages",value:function(e,t,a){var A,n,i=this,r=function(e){return e==a};A=this.state.rotateResult?e.height:e.width,n=this.state.rotateResult?e.width:e.height,this.state.rotateUpload&&this.uploadNumber.some(r)&&(t.rotate(-90*Math.PI/180),t.translate(this.state.rotateResult?-e.width:-e.height,0),A=this.state.rotateResult?e.width:e.height,n=this.state.rotateResult?e.height:e.width);var s=this.displayImage[a];new Promise((function(l,o){s.onload=function(){t.drawImage(s,0,0,A,n),a==i.displayImage.length-1&&(i.canvasData=e.toDataURL("image/png")),i.state.rotateUpload&&i.uploadNumber.some(r)&&(t.translate(i.state.rotateResult?e.width:e.height,0),t.rotate(90*Math.PI/180)),l()}})).then((function(){a<i.displayImage.length-1&&i.stackImages(e,t,a+1)}))}},{key:"updateImgName",value:function(){for(var e=Object.keys(this.imgName),t=JSON.parse(JSON.stringify(this.imgName)),a=0,A=e;a<A.length;a++){var n=A[a],i="";if("wtrName"!==n)i+=this.state.options.type.substring(0,1).toLowerCase();i+=this.state.options.type[this.state.options.type.length-1]!=this.state.options.type[this.state.options.type.length-2]?"1":"2";var r=this.state.options.language.substring(0,1).toLowerCase();"topName"===n&&(r=""),i+=r,"wtrName"!==n&&"No"===this.state.options[n.substring(0,3)]?i="":i+=n.substring(0,3)+".png",t[n]=i}this.imgName=t}},{key:"updateCanvas",value:function(){this.refreshed=!1;var e=this.refs.cardCanvas,t=e.getContext("2d");if(this.imagePusher(),t.clearRect(0,0,510,510),!this.rotatedResult){var a=e.height;e.height=e.width,e.width=a,this.rotatedResult=!0;e.height;var A=e.width,n=90*Math.PI/180;this.state.rotateResult&&(t.translate(A,0),t.rotate(n))}this.stackImages(e,t,0)}},{key:"updateEditor",value:function(){this.updateImgName(),this.updateCanvas()}},{key:"componentWillMount",value:function(){this.updateImgName()}},{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(e,t){this.state.options==t.options&&this.state.imagePreviewUrl==t.imagePreviewUrl&&this.state.imagePreviewUrlBehind==t.imagePreviewUrlBehind&&this.state.rotateResult==t.rotateResult&&this.state.rotateUpload==t.rotateUpload||this.updateEditor()}},{key:"handleChange",value:function(e,t){var a=JSON.parse(JSON.stringify(this.state.options));a[e]=t,this.setState({options:a})}},{key:"handleImageUpload",value:function(e){var t=this;e.preventDefault();var a=new FileReader,A=e.target.files[0];a.onloadend=function(){t.setState({file:A,imagePreviewUrl:a.result})},a.readAsDataURL(A)}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleInstructionsChange",value:function(e){this.setState({instructions:e.target.value})}},{key:"handleSave",value:function(){this.refreshed?window.location.href=this.canvasData:this.handleRefresh()}},{key:"oard",value:function(e,t){return n.a.createElement(d,{names:e,options:t,onChange:this.handleChange})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("b",null,"Upload your image here: \xa0"),n.a.createElement("br",null),n.a.createElement("input",{type:"file",name:"pic",accept:"image/*",onChange:this.handleImageUpload}),n.a.createElement("br",null),n.a.createElement(k.a,{content:function(){return e.componentRef},trigger:function(){return n.a.createElement("button",{className:"btn btn-primary"},"Print to PDF!")}}),n.a.createElement("br",null),n.a.createElement("div",{className:"Page",ref:function(t){return e.componentRef=t}},n.a.createElement("br",null),n.a.createElement("b",{className:"header"},"Recipe Name:"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",className:"title",value:this.state.title,onChange:this.handleTitleChange}),n.a.createElement("br",null),n.a.createElement("canvas",{className:"header",ref:"cardCanvas",width:"320",height:"240"}),n.a.createElement("br",null),n.a.createElement("b",{className:"header"},"Instructions:"),n.a.createElement("br",null),n.a.createElement("textarea",{className:"instructions",type:"text",value:this.state.instructions,onChange:this.handleInstructionsChange})))}}]),t}(n.a.Component),p=function(e){return n.a.createElement("div",{className:"App"},n.a.createElement("body",null,n.a.createElement(Q,null)))};var G=function(e){var t={};return e.keys().map((function(a,A){t[a.replace("./","")]=e(a)})),t}(a(10)),J=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(h,null),n.a.createElement("header",{className:"App-header"},"Mamy's\xa0",n.a.createElement("br",null),n.a.createElement("h2",null,"Cookbook Generator"),n.a.createElement("img",{src:G["logo.png"],className:"App-logo"})),n.a.createElement("div",null,n.a.createElement(p,{onChange:e.onChange})),n.a.createElement("div",{style:{alignItems:"center",justifyContent:"center"}},n.a.createElement("br",null)))}}]),t}(A.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.8c2bf645.chunk.js.map